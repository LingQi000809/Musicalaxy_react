(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){},16:function(e,t,c){},17:function(e,t,c){},22:function(e,t,c){},23:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c.n(n),s=c(8),o=c.n(s),r=(c(14),c(3)),a=c(2);c(15);var l=c(4),j=(c(16),c(17),c(0));var u=function(e){var t=e.updateHoverClr,c=e.updateSelectedClr,i=Object(n.useRef)(null),s=Object(n.useRef)(null);function o(e){var t=i.current,c=t.getBoundingClientRect();console.log(e.clientX,e.clientY),console.log(c);var n=e.clientX-c.left,s=e.clientY-c.top;console.log(n,s);var o=t.getContext("2d").getImageData(n,s,1,1).data,r="rgba("+o[0]+", "+o[1]+", "+o[2]+", "+o[3]/255+")";return console.log(r),r}return Object(n.useEffect)((function(){var e=i.current,t=e.getContext("2d"),c=s.current;c.width=e.clientWidth,c.height=e.clientHeight,console.log(e.clientWidth,e.clientHeight),c.onload=function(){t.canvas.width=c.width,t.canvas.height=c.height,t.drawImage(c,0,0,c.width,c.height),c.style.display="none"}})),Object(j.jsxs)("div",{id:"colorPicker",children:[Object(j.jsx)("canvas",{id:"canvas",ref:i,onMouseMove:function(e){var c=o(e);t(c)},onClick:function(e){var t=o(e);c(t)}}),Object(j.jsx)("img",{id:"colorSquare",ref:s,src:"img/colorSquare.png"})]})},d=c(9),b=c.n(d);c(22);var O=function(e){var t=e.isFirst,c=e.isLast,i=e.pieceName,s=e.onLastPiece,o=e.onNextPiece,r=e.finish,u=e.hoverClr,d=e.selectedClr,O=Object(n.useState)(null),h=Object(a.a)(O,2),g=h[0],v=h[1],x=Object(n.useState)(null),f=Object(a.a)(x,2),C=f[0],w=f[1];return Object(n.useEffect)((function(){v("audio/"+i+".mp3")}),[i]),Object(j.jsxs)("div",{id:"mappingWrapper",children:[Object(j.jsxs)("div",{id:"mappingUI",children:[Object(j.jsx)("p",{id:"colorQ",children:" What's the color of this music? "}),Object(j.jsx)(b.a,{id:"audioPlayer",src:g,controls:!0}),Object(j.jsxs)("div",{id:"selection",children:[Object(j.jsx)("div",{id:"hoverClr",style:{backgroundColor:u}}),Object(j.jsx)("div",{id:"selectedClr",style:{backgroundColor:d}})]}),Object(j.jsx)("svg",{id:"add-icon",onClick:function(){w((function(e){return null===e?[{color:d,unit:1}]:[].concat(Object(l.a)(e),[{color:d,unit:1}])}))},vxmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 44 44",children:Object(j.jsx)("g",{fill:"white",children:Object(j.jsx)("path",{d:"M22,44c-3.309,0-6-2.665-6-5.941V28H5.941C2.665,28,0,25.309,0,22s2.665-6,5.941-6H16V5.941C16,2.665,18.691,0,22,0 s6,2.665,6,5.941V16h10.059C41.335,16,44,18.691,44,22s-2.665,6-5.941,6H28v10.059C28,41.335,25.309,44,22,44z M5.941,18 C3.805,18,2,19.832,2,22s1.805,4,3.941,4H18v12.059C18,40.195,19.832,42,22,42s4-1.805,4-3.941V26h12.059C40.195,26,42,24.168,42,22 s-1.805-4-3.941-4H26V5.941C26,3.805,24.168,2,22,2s-4,1.805-4,3.941V18H5.941z"})})})]}),t?Object(j.jsx)(j.Fragment,{}):Object(j.jsx)("svg",{id:"back-icon",onClick:function(){w([{color:"#111111",weight:.8},{color:"back",weight:.2}]),s(C)},vxmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 477.175 477.175",children:Object(j.jsx)("g",{fill:"white",children:Object(j.jsx)("path",{d:"M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"})})}),c?Object(j.jsx)(j.Fragment,{}):Object(j.jsx)("svg",{id:"next-icon",onClick:function(){w([{color:"#111111",weight:.8}]),o(C)},vxmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 477.175 477.175",children:Object(j.jsx)("g",{fill:"white",children:Object(j.jsx)("path",{d:"M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z"})})}),Object(j.jsx)("svg",{id:"finish-icon",onClick:function(){w([{color:"#111111",weight:.8}]),r(C)},vxmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:Object(j.jsxs)("g",{fill:"white",children:[Object(j.jsx)("path",{d:"M26,0C11.664,0,0,11.663,0,26s11.664,26,26,26s26-11.663,26-26S40.336,0,26,0z M26,50C12.767,50,2,39.233,2,26S12.767,2,26,2s24,10.767,24,24S39.233,50,26,50z"}),Object(j.jsx)("path",{d:"M38.252,15.336l-15.369,17.29l-9.259-7.407c-0.43-0.345-1.061-0.274-1.405,0.156c-0.345,0.432-0.275,1.061,0.156,1.406l10,8C22.559,34.928,22.78,35,23,35c0.276,0,0.551-0.114,0.748-0.336l16-18c0.367-0.412,0.33-1.045-0.083-1.411C39.251,14.885,38.62,14.922,38.252,15.336z"})]})}),Object(j.jsx)("svg",{id:"info-icon",vxmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:Object(j.jsxs)("g",{fill:"#C0D4FF",children:[Object(j.jsx)("path",{d:"M26,0C11.663,0,0,11.663,0,26s11.663,26,26,26s26-11.663,26-26S40.337,0,26,0z M26,50C12.767,50,2,39.233,2,26 S12.767,2,26,2s24,10.767,24,24S39.233,50,26,50z"}),Object(j.jsx)("path",{d:"M26,37c-0.553,0-1,0.447-1,1v2c0,0.553,0.447,1,1,1s1-0.447,1-1v-2C27,37.447,26.553,37,26,37z"}),Object(j.jsx)("path",{d:"M26.113,9.001C26.075,9.001,26.037,9,25.998,9c-2.116,0-4.106,0.815-5.615,2.304C18.847,12.819,18,14.842,18,17 c0,0.553,0.447,1,1,1s1-0.447,1-1c0-1.618,0.635-3.136,1.787-4.272c1.153-1.137,2.688-1.765,4.299-1.727 c3.161,0.044,5.869,2.752,5.913,5.913c0.029,2.084-0.999,4.002-2.751,5.132C26.588,23.762,25,26.794,25,30.158V33 c0,0.553,0.447,1,1,1s1-0.447,1-1v-2.842c0-2.642,1.276-5.105,3.332-6.432c2.335-1.506,3.706-4.063,3.667-6.84 C33.939,12.599,30.401,9.061,26.113,9.001z"})]})})]})};var h=function(e){var t=e.onPageSwitch,c=["Clair_de_Lune","Dragon_Boy","HeartBroken_Kiki","Life_Incredible_Again","Secret_Duo"],i=Object(n.useState)(0),s=Object(a.a)(i,2),o=s[0],d=s[1],b=Object(n.useState)([]),h=Object(a.a)(b,2),g=h[0],v=h[1],x=Object(n.useState)("#FFFFFF"),f=Object(a.a)(x,2),C=f[0],w=f[1],p=Object(n.useState)("#FFFFFF"),m=Object(a.a)(p,2),S=m[0],F=m[1];function k(e){v((function(t){var c=t.length;return 0===c?[e]:0===o?[e].concat(Object(l.a)(t.slice(1))):o===c-1?[].concat(Object(l.a)(t.slice(0,c-1)),[e]):[].concat(Object(l.a)(t.slice(0,o)),[e],Object(l.a)(t.slice(o+1)))}))}console.log(g);var P={isFirst:0===o,isLast:o===c.length-1,pieceName:c[o],onLastPiece:function(e){k(e),d(o-1)},onNextPiece:function(e){k(e),d(o+1)},finishPers:function(e){k(e),t({nextPage:"WORKSPACE"})},hoverClr:C,selectedClr:S};return Object(j.jsxs)("div",{className:"page",id:"personalization-page",children:[Object(j.jsx)(u,{updateHoverClr:function(e){w(e)},updateSelectedClr:function(e){F(e)}}),Object(j.jsx)(O,Object(r.a)({},P))]})};var g=function(e){return e.onPageSwitch,Object(j.jsx)(j.Fragment,{})};var v=function(){var e=Object(n.useState)("PERSONALIZATION"),t=Object(a.a)(e,2),c=t[0],i=t[1],s=Object(n.useState)(null),o=Object(a.a)(s,2),l=o[0],u=o[1],d=Object(n.useReducer)((function(e){return!e}),!1),b=Object(a.a)(d,2),O=b[0],v=b[1],x=Object(n.useCallback)((function(e){u(e.state),v()}),[v]),f={in:O,timeout:1e3},C=(Object(r.a)(Object(r.a)({},f),{},{classNames:"from",onEntered:function(){i(l),u(null),v()}}),Object(r.a)(Object(r.a)({},f),{},{classNames:"to"}),{onPageSwitch:x});return Object(j.jsx)(j.Fragment,{children:function(e){switch(e){case"PERSONALIZATION":return Object(j.jsx)(h,Object(r.a)({},C));case"WORKSPACE":return Object(j.jsx)(g,Object(r.a)({},C));default:return Object(j.jsx)(j.Fragment,{})}}(c)})};o.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.dec13d60.chunk.js.map